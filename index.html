<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Multiple Emails Input (MEI)</title>
    <meta name="author" content="Lars Straathof" />
    <meta
      name="description"
      content="MeiMei: A simple easy to use vanilla JavaScript library for creating input fields that accept multiple email addresses"
    />
    <meta name="keywords" content="javascript,typescript,input,email,multiple,vanilla" />
    <link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet" />
    <link href="./assets/example.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <h1>Examples of the Multiple-Email-Input (MeiMei) library</h1>
      <div class="box">
        <div class="box__top">
          <h3>Share <strong>Board</strong> name with others</h3>
          <div class="emails-input"></div>
        </div>
        <div class="box__bottom">
          <button id="addE1">Add email</button>
          <button id="getE1">Get emails count</button>
        </div>
      </div>

      <div class="box">
        <div class="box__top">
          <h3>More <strong>MeiMei</strong> on same page</h3>
          <p>
            This example triggeres a console.log() function on <strong>add</strong> and <strong>remove</strong> through
            optional properties. See source for config.
          </p>
          <div class="emails-input2"></div>
        </div>
        <div class="box__bottom">
          <button id="addE2">Add email</button>
          <button id="getE2">Get valid emails count</button>
        </div>
      </div>

      <h3>Multiple inputs</h3>
      <p>
        It is possible to add multiple MeiMei with the class selector:<br />var inputContainerNode3 =
        document.querySelectorAll('.emails-input3'); <br>var emailsInput3 = MeiMei(inputContainerNode3);
      </p>

      <div class="emails-input3"></div>
      <div class="emails-input3"></div>
    </div>

    <script src="./meimei-lib.min.js"></script>
    <script src="./assets/example.js"></script>
    <script>
      'use strict';

      var inputContainerNode1 = document.querySelectorAll('.emails-input');
      var emailsInput1 = MeiMei(inputContainerNode1);
      var optionalProps = {
        onAddEntry: function onAddEntry() {
          console.log('add');
        },
        onRemoveEntry: function onRemoveEntry() {
          console.log('remove');
        },
      };

      var inputContainerNode2 = document.querySelectorAll('.emails-input2');
      var emailsInput2 = MeiMei(inputContainerNode2, optionalProps);
      var inputContainerNode3 = document.querySelectorAll('.emails-input3');
      var emailsInput3 = MeiMei(inputContainerNode3);
      var addE1 = document.getElementById('addE1');
      var getE1 = document.getElementById('getE1');
      var addE2 = document.getElementById('addE2');
      var getE2 = document.getElementById('getE2');
      addE1.addEventListener('click', function () {
        console.log('click')
        addRandomEmail(emailsInput1[0]);
      });
      addE2.addEventListener('click', function () {
        addRandomEmail(emailsInput2[0]);
      });
      getE1.addEventListener('click', function () {
        alert(countEmails(emailsInput1[0]));
      });
      getE2.addEventListener('click', function () {
        alert(countEmails(emailsInput2[0], true));
      });

      console.log(emailsInput1)
    </script>
  </body>
</html>
